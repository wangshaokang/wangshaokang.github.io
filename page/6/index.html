<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8" />
  
  <title>Página 6 | 我的博客</title>
  <meta name="author" content="John Doe" />

  

  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

  
  <meta property="og:site_name" content="我的博客" />

  
  

  
    <meta property="og:image" content="undefined" />
  

  
  <link href="/css/images/favicon.ico" rel="icon" />
  

  <link rel="alternate" href="/atom.xml" title="我的博客" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  


  <!-- baidu webmaster push -->
  <script src='//push.zhanzhang.baidu.com/push.js'></script>

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">我的博客</a></h1>
  <h2><a href="/"></a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-06-28T10:05:42.447Z"><a href="/2017/06/28/14、JS盒子模型和继承/">2017-06-28</a></time>
      
      
  
    <h1 class="title"><a href="/2017/06/28/14、JS盒子模型和继承/">JS盒子模型和继承</a></h1>
  

    </header>
    <div class="entry">
      
        <p>##JS盒子模型中的常用属性<br>client（width/height/top/left/）<br>offset(width/height/top/left) offsetParent<br>scroll(width/height/top(读写)/left（读写）)<br>//其他的属性只能读<br>ofset:获取当前元素相对于BODY的偏移（top：xxx,left:xxx)</p>
<p>##获取当前元素具体的某一个样式值：<br>curEle.style.xxx  :  只能获取写在元素行内上的样式<br>getComputedStyle  /  currentStyle: 获取当前元素所有经过浏览器计算的样式<br>—-getCss<br>—-setCss<br>—-setGroupCss（批量设置）<br>——-&gt;  JQ中的css方法</p>
<p>在IE低版本浏览器下 不支持opacity </p>
<p>##setCss:设置元素某一个样式的值（原理：设置当前元素的行内样式）<br>当传递的实参不符合规范的时候 我们进行容错处理 或者给予相关的默认值<br>throw new Error ( ‘ ‘ )  :异常抛出<br>SyntaxRrror (语法错误 )<br>TypeError (类型错误)<br>RangeError(超出范围)<br>ReferenceError(引用错误)</p>
<p>1、对于某些样式属性，如果传递的参数值没有加单位  我们可以自动给补充单位（px）  但是 不是所有的都需要补充，例如：border、float、z-Index 、opacity。。。。margin不补，但是可以给marginleft补充单位</p>
<p>##setGroupCss(批量设置)<br>options: 当前要设置IDE样式属性集合（对象）<br>原理：获取传递的属性集合，然后进行遍历循环，调取SET CSS方法依次设置即可</p>
<blockquote>
<p>/(\d)’+strClass+’/  —&gt;使用字面量方式创建的正则，在两个斜杠之间包含起来的都是元字符  没有字符串拼接或者变量一说<br>把 strClass变量存储的值作为正则的一部分 ，这种情况下只能使用实例创建的方式new RegExp(‘[元字符部分]’,[修饰符])<br>小技巧：使用实例创建方式创建的正则，当遇到 \xxx     情况，我们都需要在\之前</p>
</blockquote>
<p>##可枚举和不可枚举<br>枚举是一一列举出来<br>可以for in  语句遍历列举出来的</p>
<p>预防将原型上可枚举的其他属性遍历出来  遍历对象时，通常会用hasOwnProperty</p>
<p>##propertyIsEnumerable  检测属性是不是当前对象可枚举的自身属性  如果是当前对象可枚举的自身属性返回true<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">Object.create  返回一个新对象obj2   </div><div class="line">obj2.__proto__=obj1（被截胡了）</div><div class="line">var obj1=&#123;name:&apos;zhufeng&apos;&#125;;</div><div class="line">var obj2=Objecr.create(obj1);</div><div class="line">//但是这个方法在IE8 以下不兼容</div><div class="line"></div><div class="line"></div><div class="line">自己创建一个方法</div><div class="line">function objectCreate(obj)&#123;</div><div class="line">     function Fn()&#123;&#125;;</div><div class="line">     Fn.prototype=obj;</div><div class="line">     return new Fn(); //new Fn 这个实例的__proto__=Fn.prototype=obj</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>#继承：子类继承父类的属性和方法</p>
<p>比如：A类 B类  在A类中有一个say方法  B类想继承过来给B的实例使用</p>
<p>##1、原型继承（原型链继承）</p>
<h4 id="原型继承-子类B把A中的公有、私有属性和方法-全部继承过来-作为子类的B的公有属性和方法"><a href="#原型继承-子类B把A中的公有、私有属性和方法-全部继承过来-作为子类的B的公有属性和方法" class="headerlink" title="原型继承  子类B把A中的公有、私有属性和方法 全部继承过来  作为子类的B的公有属性和方法"></a>原型继承  子类B把A中的公有、私有属性和方法 全部继承过来  作为子类的B的公有属性和方法</h4><p> 修改原型链的查找顺序<br>  比如 A类和B类  在A类中有一个say方法，B类想继承过来给B的实例使用<br> <strong> B.prototype=new A( );</strong></p>
<ul>
<li>原型继承中 子类不光可以继承父类的属性和方法来使用 </li>
<li>子类也可以修改父类的原型上的属性和方法  </li>
<li>但是会影响父类的其他实例-<br>   —-&gt;子类重写父类   属于类的多态（重写）<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">function A() &#123;</div><div class="line">     this.name1 = &apos;zhufeng&apos;;</div><div class="line">     this.info = function () &#123;</div><div class="line">       console.log(&apos;info&apos;);</div><div class="line">     &#125;</div><div class="line">   &#125;</div><div class="line">   A.prototype.say = function () &#123;</div><div class="line">       console.log(&apos;my name is &apos; + this.name1);</div><div class="line">   &#125;;</div><div class="line">   B.prototype = new A();// B类的原型等于A类的实例</div><div class="line">   function B() &#123;</div><div class="line"></div><div class="line">   &#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>##2、call继承（借用构造函数）</p>
<p>####call继承只能父类中私有的属性</p>
<ul>
<li>call（借用构造函数）继承  让A类当做一个普通函数在B类中执行 并且将A类中的this.改为B类的实例 </li>
<li>那么A类中this.xxx=xxx 就相当于给B类的实例添加私有属性</li>
<li>call继承  将A类中的私有属性  复制一份  给B类作为私有属性</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">function A() &#123;</div><div class="line">       this.name = &apos;nameA&apos;; // 在B中A.call(this); A中this被改为B的实例</div><div class="line">   &#125;</div><div class="line">   A.prototype.say = function () &#123;</div><div class="line">     console.log(&apos;say&apos;);</div><div class="line">   &#125;</div><div class="line">   function B() &#123; // B作为类 的时候 B中this 是当前实例</div><div class="line">       A.call(this); // 让A在B的函数体中当做一个普通函数执行并且将A中this改为B的this(B的实例把b)</div><div class="line">   &#125;</div><div class="line">   var b = new B();</div><div class="line">   console.log(b);</div><div class="line">   console.log(b.name);</div><div class="line">   // call继承只能继承父类中的私有属性</div></pre></td></tr></table></figure>
<p>##3、混合模式继承 （call继承+原型继承）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">function A() &#123;</div><div class="line">       this.name = &apos;nameA&apos;;</div><div class="line">     &#125;</div><div class="line">     A.prototype.say = function () &#123;</div><div class="line">       console.log(&apos;hello world!&apos;);</div><div class="line">     &#125;;</div><div class="line">     function B() &#123;</div><div class="line">        A.call(this); // call继承 只能继承父类中私有属性</div><div class="line">     &#125;</div><div class="line">     B.prototype = new A(); // 原型继承 父类公有和私有都继承</div><div class="line">     var b = new B();</div><div class="line">     console.log(b.name); // 继承过来的私有属性</div><div class="line">     b.say();</div></pre></td></tr></table></figure></p>
<p>###4、寄生组合模式继承（各司其职）<br>function bg(o){<br> function Fn( ) { };<br> Fn.prototype=o;<br> return new Fn( );<br>}</p>
<h3 id="5、-冒充对象继承-在b-的私有函数体中，创建一个父类的实例temp-（存储的是a类中私有和公有的属性和方法），把temp存储的-复制一份-给B中实例的私有属性"><a href="#5、-冒充对象继承-在b-的私有函数体中，创建一个父类的实例temp-（存储的是a类中私有和公有的属性和方法），把temp存储的-复制一份-给B中实例的私有属性" class="headerlink" title="5、 冒充对象继承(在b 的私有函数体中，创建一个父类的实例temp （存储的是a类中私有和公有的属性和方法），把temp存储的 复制一份  给B中实例的私有属性)"></a>5、 冒充对象继承(在b 的私有函数体中，创建一个父类的实例temp （存储的是a类中私有和公有的属性和方法），把temp存储的 复制一份  给B中实例的私有属性)</h3><p>冒充对象继承   在子类的私有函数体中  创建一个父类A的实例temp（存储的是A类中的私有和公有的属性和方法），吧temp当做一个普通对象循环遍历出来没一项 作为子类中的实例的私有属性</p>
<ul>
<li>在子类的函数体中 创建一个父类的实例temp</li>
<li>吧temp当作一个普通对象遍历</li>
<li>将temp存储的公有和私有属性和方法 复制一份给子类中的私有属性</li>
</ul>
<p>function B(){<br>  var temp=new A( )<br>  for (var key in temp){<br>      console.log(key);<br>  }<br>}</p>
<p>###6、中间类继承<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">// 中间类继承：通过使用__proto__</div><div class="line">     // var arr = [1,2,4]; // arr.__proto__.shift</div><div class="line">     // arr.shift();</div><div class="line">     // console.log(arr);</div><div class="line">     // console.log(arr.__proto__.shift === Array.prototype.shift);</div><div class="line">     // console.log(arr.__proto__ === Array.prototype);</div><div class="line">     // function add() &#123;</div><div class="line">     //   // 类数组的__proto__ 指向了 Array.prototype</div><div class="line">     //   arguments.__proto__ =  Array.prototype;</div><div class="line">     //   arguments.shift(); // [2,3,4,5]</div><div class="line">     //   console.log(arguments);</div><div class="line">     // &#125;</div><div class="line">     // add(1,2,3,4,5)</div><div class="line">     console.log([].__proto__);</div><div class="line">     function sorts() &#123;</div><div class="line">       arguments.__proto__ =  Array.prototype;</div><div class="line">       arguments.sort();</div><div class="line">       console.log(arguments);</div><div class="line">     &#125;</div><div class="line">     sorts(6,9,3,5,8);</div></pre></td></tr></table></figure></p>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">分享</a>
        </div>
        
        
        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-06-28T10:05:42.442Z"><a href="/2017/06/28/13、类名的增删改查/">2017-06-28</a></time>
      
      
  
    <h1 class="title"><a href="/2017/06/28/13、类名的增删改查/">类型的增删改查</a></h1>
  

    </header>
    <div class="entry">
      
        <p>##字面量方式 无法在正则中拼接变量<br>new RegExp 可以拼接变量<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure></p>
<p>##类名的增删改查<br>oDiv.classList.remove(‘c1’)  移出类<br>oDiv.classList.add(‘c2’)   增加类<br>oDiv.classList.toggle(‘c4’)  切换类 （当前元素中  有就移除  没有就添加</p>
<blockquote>
<p>查看当前元素存不存在指定class<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">function hasClass(ele,cName)&#123;</div><div class="line">    return (new RegExp(&apos;(^| )&apos;+cName+&apos;( |$)&apos;)).test(ele.className)</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
</blockquote>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">分享</a>
        </div>
        
        
        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-06-28T10:05:42.424Z"><a href="/2017/06/28/12、获取元素样式属性/">2017-06-28</a></time>
      
      
  
    <h1 class="title"><a href="/2017/06/28/12、获取元素样式属性/">获取样式属性</a></h1>
  

    </header>
    <div class="entry">
      
        <p>复习：<br>clientWidth<br>clientHeight<br>clientLeft<br>clientTop</p>
<p>元素.style只能获取到行内样式</p>
<p>window.getComputedStyle 通过它获取所有经过浏览器计算过的元素样式属性和属性值（元素在浏览器加载的时候渲染出来 展现在页面中的样式）<br>window.getComputedStyle(元素，伪类【通常不写， 用null占位】) <code>但是IE8以下不兼容----只能使用currentStyle</code><br>元素.currentStyle[attr]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">获取元素样式</div><div class="line">function getCss(ele,attr)&#123;</div><div class="line">var val;</div><div class="line">   if(&quot;getComputedStyle&quot; in window)&#123;   </div><div class="line">   val=window.getComputStyle(ele,null)[attr]</div><div class="line">   &#125;</div><div class="line">   else if(attr===&apos;opacrty&apos;)&#123;</div><div class="line">     val=ele.currentStyle.filer;</div><div class="line">     var reg=/^alpha\(opacity=(\d+(?:\.\d+)?)\)$/;</div><div class="line">     val=reg.test(val)?(reg.exec(val)[1])/100:1;</div><div class="line">   &#125;</div><div class="line">   else&#123;</div><div class="line">      val=ele.currentStyle[attr];</div><div class="line">   &#125;</div><div class="line">&#125;</div><div class="line">     var regs=/^-?\d+(\.\d)?(px|pt|rem|em)?$/;</div><div class="line">     return regs.test(val)?parseFloat(val):val;</div></pre></td></tr></table></figure>
<p>加单位  如果不带单位的value  我们给加上单位</p>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">分享</a>
        </div>
        
        
        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-06-28T10:05:42.412Z"><a href="/2017/06/28/11、盒子模型/">2017-06-28</a></time>
      
      
  
    <h1 class="title"><a href="/2017/06/28/11、盒子模型/">盒子模型</a></h1>
  

    </header>
    <div class="entry">
      
        <p>检测字母出现的次数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">var str=&apos;my name is zhou xiao tian&apos;</div><div class="line">var reg=/(?!\s)[a-z]/g;</div><div class="line">var obj=&#123;&#125;;</div><div class="line">str.replace(reg,function()&#123;</div><div class="line">     var cur=arguments[0];</div><div class="line">     if(obj[cur])&#123;</div><div class="line">      obj[cur]++;</div><div class="line">     &#125;else&#123;</div><div class="line">     obj[cur]=1;</div><div class="line">     &#125;</div><div class="line">&#125;)</div><div class="line">console.log(obj);</div><div class="line"></div><div class="line"></div><div class="line"> 比较那个出现的次数最多</div><div class="line">var max=obj[&apos;m&apos;];</div><div class="line">for(var key in obj)&#123;</div><div class="line">var cur=obj[key];</div><div class="line">  cur&gt;max ? max=cur:null;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">得到出现次数最多的那一项</div><div class="line">var ary=[];</div><div class="line">for(var key in obj)&#123;</div><div class="line">   if(obj[key]==max)&#123;</div><div class="line">   ary.push(key)</div><div class="line">   &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">var str=&apos;http://www.baidu.com/index.html?name=狮子王&amp;age=20&amp;sex=1&apos;</div><div class="line"></div><div class="line">//封装一个方法</div><div class="line">function getParamer()&#123;</div><div class="line">var reg=/([^?&amp;=]+)=([^?&amp;=]+)/g;</div><div class="line">var obj=[];</div><div class="line">url.replace(reg,function()&#123;</div><div class="line">   obj[arguments[1]]=arguments[2];</div><div class="line">&#125;)</div><div class="line">&#125;</div><div class="line">console.log(getParamer(obj))</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">var time=&apos;2017-3-25 18:00:56&apos;</div><div class="line">方式一</div><div class="line">var times=time.split(/[- :]/);</div><div class="line"></div><div class="line">方式二</div><div class="line">time.replace(/(\d+)-(\d+)-(\d+) (\d+):(\d+):(\d+)/g,&apos;$1年$2月$3日 $4时$5分$6秒&apos;);    </div><div class="line">&#125;)</div><div class="line">console.log(times);</div><div class="line">方式三</div><div class="line"> var time = &apos;2017-3-26 18:38:4&apos;;</div><div class="line">        var reg = /(\d+)/g;</div><div class="line">        var count = 0;</div><div class="line">        var arr = [&apos;年&apos;,&apos;月&apos;,&apos;日 &apos;,&apos;时&apos;,&apos;分&apos;,&apos;秒&apos;];</div><div class="line">        var str = &apos;&apos;;</div><div class="line">        var timer = time.replace(reg, function (a) &#123;</div><div class="line">              str += addZero(a) + &apos;&apos;+ arr[count++];</div><div class="line">        &#125;);</div><div class="line">      console.log(str);</div></pre></td></tr></table></figure>
<p> 去除字符串的首尾空格<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var str=&apos;  may name is zccc  &apos;  //</div><div class="line">var reg=/^\s+|\s+$/;</div><div class="line">或者var reg=/^ +| +$/;</div><div class="line">str.replace(reg,&apos;&apos;);</div></pre></td></tr></table></figure></p>
<p>千分符<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var str3=&apos;1324935048334543&apos;</div><div class="line">var reg=/\d(?=(?:\d&#123;3&#125;)+(?:\.\d+|$))/g</div><div class="line">str.replace(reg,$0+&apos;,&apos;);</div></pre></td></tr></table></figure></p>
<p>//输入框非空验证<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">&lt;body&gt;</div><div class="line">用户名：&lt;input type=&quot;text&quot; id=&quot;inp&quot;&gt;</div><div class="line">&lt;p id=&quot;info&quot;&gt;请填写用户名&lt;/p&gt;</div><div class="line">&lt;h3 id=&quot;text&quot;&gt;&lt;/h3&gt;</div><div class="line">&lt;script&gt;</div><div class="line">var inp=document.getElementById(&apos;inp&apos;);</div><div class="line">var info=document.getElementById(&apos;info&apos;);</div><div class="line">var text=document.getElementById(&apos;text&apos;);</div><div class="line">inp.onblur=validVal;</div><div class="line">//失去焦点的时候检测输入内容是否为空</div><div class="line">inp.oninput=validVal;</div><div class="line">//实时输入的时候检测输入内容是否为空</div><div class="line">function validVal()&#123;</div><div class="line">text.innerHTML=this.value;</div><div class="line">var reg=/^\s*$/;</div><div class="line">if(reg.test(this.value))&#123;</div><div class="line">    info.style.display=&apos;block&apos;;</div><div class="line">&#125;else&#123;</div><div class="line">    info.style.display=&apos;none&apos;;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure></p>
<p>#盒子模型 </p>
<p>###client</p>
<blockquote>
<p>clientWidth  内容宽度+左右padding<br>clientHeight  内容高度+上下padding<br>clientLeft   左边框的宽度<br>clientTop   上边框的宽度</p>
</blockquote>
<p>###offset</p>
<blockquote>
<p>offsetWidth    clientWidth+左右边框的宽度<br>offsetHeight   clientHeight+上下边框的宽度</p>
<p>###偏移值<br>offsetLeft  元素左边框外  距离父级参照物（默认是body）的左偏移量<br>offsetTop  元素上边框  距离父级参照物（默认是body）的上偏移量</p>
</blockquote>
<p>offsetParent  元素父级参照物    parentNode（父级节点）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">offsetParent  元素父级参照物是可以修改的 想让谁是父级参照物，就是谁给加上position（relative/absolute/fixed)</div><div class="line"></div><div class="line">在IE7以下父级参照物是当前元素上级父节点</div><div class="line"></div><div class="line">我们比较常用的是获取 当前元素距离body的上偏移和下偏移</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">function offset(ele)&#123;</div><div class="line">  </div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>###scroll</p>
<blockquote>
<p>scrollWidth<br>scrollHeight<br>在没有溢出的情况下<br>scrollWidth    等于     clientWidth<br>scrollHeight   等于   clientHeight</p>
<blockquote>
<p>在有溢出的情况下<br>scrollWidth    等于     clientWidth(一屏可视窗口的宽度)+左右溢出的内容部分<br>scrollHeight   等于   clientHeight(一屏可视窗口的高度)+ 上下溢出的内容部分<br>scrollLeft  （可设置值）左右滚动条  可滚动的区域<br>scrollTop  （可设置值）上下滚动条  可滚动的区域</p>
</blockquote>
</blockquote>
<p>###封装一个获取文档的一些盒模型样式属性值的方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">function win(attr,val)&#123;</div><div class="line">    if(typeof val===&apos;undefined&apos;)&#123;</div><div class="line">    return   document.documentElement[attr]||document.body[attr];</div><div class="line">  &#125;</div><div class="line">document.documentElement[attr]=val;</div><div class="line">document.body[attr]=val;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<hr>
<p>##JS中提供获取元素的样式属性值</p>
<blockquote>
<p>获取元素的某一个具体的样式属性值<br>元素.style.属性名<br>—需要我们把元素的样式都写在行内上才可以（写在样式表中不起作用）<br>在真实项目中 ，这种方式不常用，因为我不能为了获取值而把所有的样式都写在行内（无法实现css和html的分离)</p>
</blockquote>
<p>###为了解决这个问题  我们可以使用<strong>window.getComputedStyle</strong>这个方法获取所有经过浏览器计算过的样式</p>
<p>###window.getComputedStyle(当前要操作的元素对象 ，当前元素的伪类（一般我们不用为了写null）)</p>
<h3 id="在IE6–8下我们可以使用currentStyle来获取所有经过浏览器计算过的样式"><a href="#在IE6–8下我们可以使用currentStyle来获取所有经过浏览器计算过的样式" class="headerlink" title="在IE6–8下我们可以使用currentStyle来获取所有经过浏览器计算过的样式"></a>在IE6–8下我们可以使用currentStyle来获取所有经过浏览器计算过的样式</h3><p>##通过检测浏览器版本和类型来处理兼容常用的三种方法<br>方法1、使用try catch方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">function get(curEle,attr)&#123;</div><div class="line">var val=null；</div><div class="line">   try&#123;</div><div class="line">val=window.getComputedStyle(curEle,null)</div><div class="line">&#125;  catch(e)&#123;</div><div class="line">val=curEle.currentStyle[attr];</div><div class="line">&#125;</div><div class="line">return val;</div><div class="line">&#125;</div><div class="line">console.log(getCss(box,&quot;height&quot;));</div></pre></td></tr></table></figure></p>
<p>方法2、 使用in方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">原理：（判断当前浏览器是否存在这个属性或者方法，存在就兼容，不存在就不兼容）</div><div class="line">function get(curEle,attr)&#123;</div><div class="line">var val=null；</div><div class="line"> if(&apos;getComputedStyle&apos; in window//(或者window.getComputedStyle)</div><div class="line"> )&#123;</div><div class="line">      val=window.getComputedStyle(curEle,null)[attr];</div><div class="line"> &#125;else&#123;</div><div class="line">      val=curEle.currentStyle[attr];</div><div class="line"> &#125;</div><div class="line"> return val;</div><div class="line">&#125;</div><div class="line">console.log(getCss(box,&quot;height&quot;));</div></pre></td></tr></table></figure></p>
<p>方法3 、通过检测浏览器版本和类型来处理兼容</p>
<blockquote>
<p>我们用window.navigator.userAgent<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">function get(curEle,attr)&#123;</div><div class="line">var val=null；</div><div class="line"> if(/MSIE (6|7|8)/.test(navigator.userAgent))</div><div class="line"> )&#123;</div><div class="line">     val=curEle.currentStyle[attr];</div><div class="line"> &#125;else&#123;</div><div class="line">  val=window.getComputedStyle(curEle,null)[attr];</div><div class="line">      </div><div class="line"> &#125;</div><div class="line"> return val;</div><div class="line">&#125;</div><div class="line">console.log(getCss(box,&quot;height&quot;));</div></pre></td></tr></table></figure></p>
</blockquote>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">分享</a>
        </div>
        
        
        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-06-28T10:05:42.400Z"><a href="/2017/06/28/10、RegExp/">2017-06-28</a></time>
      
      
  
    <h1 class="title"><a href="/2017/06/28/10、RegExp/">regexp</a></h1>
  

    </header>
    <div class="entry">
      
        <blockquote>
<p>不是正则不重要（项目中很少用正则，面试也很少问正则），而是面试官不会</p>
<p>##1、正则是什么？如何学习？<br>正则就是由相关“元字符”和”修饰符“组成的一个规则用来匹配验证或者捕获字符串中某些内容的规则（正则仅仅用来处理字符串的）</p>
<ul>
<li>元字符</li>
<li>修饰符</li>
<li>编写常用的正则</li>
<li>正则的验证</li>
<li>正则的捕获</li>
<li>正则的一些小实战以及一些常规方法的封装：myOueryURLParameter 、 myTrim 、myFormatTime….<br>####test：正则的方法（ 验证某一个字符串是否符合某一个规则）</li>
</ul>
</blockquote>
<p>####复习字符串中常用的方法</p>
<ul>
<li>charAt /charCodeAt  :根据索引获取指定位置的字符（或者字符的Unicode编码值）</li>
<li>String.fromCharCode([unicode编码])：通过指定的编码获取对应的字符</li>
<li>substr(n,m) :从索引n开始截取m个字符（m不写截取到结尾），n和m 不支持负数。。</li>
<li>substring(n,m): 从索引n开始找到索引为m处（不包含m)</li>
<li>slice（n,m):和substring一样，只是可以支持以负数作为索引（负数索引：总长度+负数索引，得到的结果就是查找的索引位置）</li>
<li>indexOf/lastIndexOf :找到字符在字符串中第一次或者最好一次出现位置的索引 如果没有这个字符 返回的是-1；（通过这个也可以判断当前的字符串中是否包含这个字符）</li>
<li>search：和indexOf相同，都是获取字符出现位置的索引  只是search可以支持正则</li>
<li>toLowerCase/toUpperCase:把一个字符串中的所有字符转换为大写或者小写</li>
<li>split：按照指定的分隔符，把一个字符串拆分成数组中的每一项 可以支持正则</li>
<li>replace：把字符串中的原有字符进行替换 在不使用正则的情况下，执行一次 –replace，值能替换一次，这个方法也可以支持正则</li>
<li>match：根据正则匹配到所有符合规则的结果，最后以数组来存储</li>
<li>localeCompare:两个字符之间的比较 ：按照每一个字符的Unicode编码值 一个个比较</li>
<li>repeat：重复！！！</li>
<li>trim/trimLeft/trimRight: 去除字符串的首尾空格（trimLeft去除首空格/trimRight去除为空格）但是这个方法不兼容</li>
</ul>
<p>###正则的元字符<br>只要在/ ”元字符“/ 之间包含起来的  都是正则的元字符</p>
<ul>
<li>特殊元字符<ul>
<li>\   转义字符（把有意义的和没意义的字符来回转）</li>
<li>.   除了\n以外的任意字符</li>
<li>\n   换行符</li>
<li>^    以xxx开始，</li>
<li>$    以xxx结束</li>
<li>\d  匹配0-9之间的任意数字</li>
<li>\D  除了0-9之间数字的任意字符</li>
<li>\b   匹配一个边界符 </li>
<li>\ w  匹配数字、字母、下划线中的任意字符</li>
<li>\ s   匹配一个空白字符</li>
<li>[xyz] x或者y或者z 中的一个  例如：[abacd]四个字母中的任意一个</li>
<li>[^xyz] 除了三个以外的任意字符</li>
<li>[a-z]  匹配a到z中的任意字符</li>
<li>[^a-z]  匹配除了a到z 中的任意字符</li>
<li>x|y   匹配x或者y中的任意一个</li>
<li>( )   分组</li>
<li>？:    只匹配不捕获</li>
<li>？=   正向预查</li>
<li>？！ 负向预查   这两个预查也起到了只匹配不捕获的作用</li>
<li>。。。</li>
</ul>
</li>
</ul>
<ul>
<li>量词元字符<ul>
<li><ul>
<li>出现零次或者多次</li>
</ul>
</li>
<li>? 出现零次或者一次</li>
<li><ul>
<li>出现一次或者多次</li>
</ul>
</li>
<li>{n} 出现n次</li>
<li>{n,} 出现n到多次</li>
<li>{n,m} 出现n 到m次</li>
</ul>
</li>
</ul>
<ul>
<li>普通元字符<br> 代表本身意思的元字符</li>
</ul>
<p>###正则的修饰符</p>
<ul>
<li>i  —-ignoreCase 忽略大小写</li>
<li>m —-multiline  匹配换行</li>
<li>g  —-global  全局匹配</li>
</ul>
<p>###while循环 （不知道循环的次数的情况下）</p>
<p>###正则捕获的三种方法<br>1、reg.exec(str)<br>2、str.match(reg)<br>3、str.replace(reg,function(){</p>
<p>})</p>
<p>###正则捕获的贪婪性：每一次捕获的结果都是当前正则匹配的最长结果 例如：2017符合 2也符合 但是捕获的是2017</p>
<p>##？的5大作用：<br>1、放在一个普通的元字符后面，代表出现零到一次   —–量词元字符<br>2、放在一个量词元字符后面，代表取消正则捕获时候的贪婪性<br>3、 （？:） 设定当前分组只匹配不捕获<br>4、（？=）正向预查<br>5、（？！）负向预查 两个预查只起到了只匹配不捕获的作用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">手机号  var reg=/^1\d&#123;10&#125;/;</div><div class="line">身份证号 var reg=/^(\d&#123;6&#125;)(\d&#123;4&#125;)(\d&#123;2&#125;)(\d&#123;2&#125;)\d&#123;2&#125;(\d)(\d|X)$/</div><div class="line">密码  var reg=/^(?![0-9]+$)(?![a-zA-Z]+$)[a-zA-Z0-9]&#123;6,14&#125;$/;</div><div class="line">有效数字 var reg=/^[+-]?(\d|([1-9]\d+))(\.\d+)?$/</div><div class="line">名字  var reg=/^[\u4e00-\u9fa5]&#123;2,4&#125;$/     </div><div class="line">年龄(16-76) var reg=/^1[6-9]|[2-6]\d|7[0-6]$/</div><div class="line">AXXB  var reg=/^[a-z]([a-z])\1$/</div><div class="line">ABBA  var reg=/^([a-z])([a-z])\2\1$/</div><div class="line">邮箱  var reg=/^\w+((-\w+)|(\.\w+))*@[a-zA-Z0-9]+((\.|-)[a-zA-Z0-9]+)*\.[a-zA-Z0-9]+$/</div><div class="line">出现一个数字 但不为3  var reg=/^((?!3)\d)+$/ </div><div class="line"></div><div class="line">用户昵称  function checkNick(nick)&#123;</div><div class="line">          var reg1=/^[\u4e00-\u9fa5]&#123;6,14&#125;$/;</div><div class="line">          var reg2=/^\w$/;</div><div class="line">          var len=0;</div><div class="line">          for(var i=0;i&lt;nick.length;i++)&#123;</div><div class="line">           if(reg1.test(nick[i]))&#123;</div><div class="line">           len+=2;</div><div class="line">           &#125;</div><div class="line">           else(reg2.test(nick[i]))&#123;</div><div class="line">           len++;</div><div class="line">           &#125;</div><div class="line">           else&#123;</div><div class="line">           len=0;</div><div class="line">           break;</div><div class="line">           &#125;</div><div class="line">      &#125;</div><div class="line">      if(len===0||len&gt;14)&#123;</div><div class="line">      return false;</div><div class="line">      &#125;</div><div class="line">      return true;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">分享</a>
        </div>
        
        
        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-06-28T10:05:42.394Z"><a href="/2017/06/28/9、oop(Object Oriented  Programming) 面向对象/">2017-06-28</a></time>
      
      
  
    <h1 class="title"><a href="/2017/06/28/9、oop(Object Oriented  Programming) 面向对象/">oop</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="9、oop-Object-Oriented-Programming-面向对象"><a href="#9、oop-Object-Oriented-Programming-面向对象" class="headerlink" title="9、oop(Object Oriented  Programming) 面向对象"></a>9、oop(Object Oriented  Programming) 面向对象</h1>
      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">分享</a>
        </div>
        
        
        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-06-28T10:05:42.373Z"><a href="/2017/06/28/8、json/">2017-06-28</a></time>
      
      
  
    <h1 class="title"><a href="/2017/06/28/8、json/">json</a></h1>
  

    </header>
    <div class="entry">
      
        <p>##JSON :一种数据格式，主要应用于前后端交互，前台向后台发送请求时，后台返回返回的基本是JSON格式的数据</p>
<p>##JSON对象和JSON字符串</p>
<p>###1、JSON对象和JS对象类似，但是属性名必须用’””‘(双引号)包起来，属性值如果是字符串也要用双引号抱起来<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var obj=&#123;name:&apos;zhufeng&apos;,age:8&#125;  普通对象</div><div class="line">var obj=&#123;&quot;name&quot;:”zhufeng&quot;,&quot;age&quot;:8&#125; JSON对象</div></pre></td></tr></table></figure></p>
<p>###2、JSON字符串<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var jsonStr=&apos;&#123;&quot;name&quot;:&quot;zhufeng&quot;,&quot;age&quot;:8&#125;&apos;</div><div class="line">var jsonStr=&apos;[  &#123;&quot;name&quot;:&quot;zhufeng&quot;,&quot;age&quot;:8&#125;  ]&apos;</div></pre></td></tr></table></figure></p>
<p>window上有一个JSON属性对象<br>提供了两个方法</p>
<blockquote>
<p>1、JSON.parse  将JSON格式的字符串转化为JSON格式的对象<br>var jStr1=JSON.parse(jsonStr1);</p>
<p>2、JSON.stringify  将普通格式/JSON格式的对象转化为JSON格式字符串<br>var objs={“name”:”zhufeng”,”age”:8}</p>
</blockquote>
<p>###在不兼容（不兼容IE6 -7）的情况下 需要用到eval<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var json1=&apos;&#123;&quot;name&quot;:&quot;zhufeng&quot;&#125;&apos;</div><div class="line">var date=eval(&apos;(&apos;+json1+&apos;)&apos;)</div></pre></td></tr></table></figure></p>
<p>##处理兼容性(将字符串转化为JSON对象)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var obj2=&apos;&#123;&quot;name&quot;:&quot;zhufeng&quot;&#125;&apos;</div><div class="line">var  sum=&quot;JSON&quot; in window？JSON.parse(obj2):eval(&apos;(&apos;+obj2+&apos;)&apos;);</div></pre></td></tr></table></figure></p>
<p>##简单交互</p>
<ul>
<li>ajax :异步请求  局部刷新<br>需要XMLHttpRequest<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">var xhr=new XMLHttpRequest //生成了一个的实例  在这个实例里面提供了我们发送请求和接收数据的  属性方法</div><div class="line"></div><div class="line">1、要发送请求</div><div class="line">xhr.open(&apos;get&apos;,&apos;../date.txt&apos;,true)</div><div class="line">**//  获取方式  请求方式 get post</div><div class="line"> // 请求地址  &apos;../data.txt&apos;**</div><div class="line">2、xhr.onreadystatechange=function()&#123;</div><div class="line">  //监听请求&#125;</div><div class="line"> // readystate：0，1，2，3，4</div><div class="line">  //如果是4的话说明成功完成发送请求  如果请求成功  状态码 如果http请求成功发送请求  基本是200一些开头三位数也代表成功  通常访问一个不存在的网页，返回的http状态码 404；</div><div class="line">  status http 请求状态码</div><div class="line">  readyState ajax 状态码</div><div class="line">  if(this.readyState===4&amp;&amp;this.status==200)&#123;  console.log(xhr.responseText) </div><div class="line">   &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  xhr.send();  发送</div><div class="line">  </div><div class="line"></div><div class="line"></div><div class="line">2、监听请求响应（还需要判断是否成功，是否拿到数据）</div></pre></td></tr></table></figure>
</li>
</ul>
<p>###</p>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">分享</a>
        </div>
        
        
        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-06-28T10:05:42.354Z"><a href="/2017/06/28/7、改变this的指向/">2017-06-28</a></time>
      
      
  
    <h1 class="title"><a href="/2017/06/28/7、改变this的指向/">改变this的指向</a></h1>
  

    </header>
    <div class="entry">
      
        <p>1、所有的对象数据类型（普通对象 实例 prototype  函数）都是Object基类的一个实例<br>2、所有的函数数据类型（普通函数  类（内置类 自定义））都是Function的一个实例<br>3、所有的实例都是对象数据类型的，函数和类都是Function的实例，所以函数也是对象数据类型的值</p>
<p>##函数的多面性<br>1、普通函数<br>执行的时候形成一个私有作用域  形参赋值  预解释  代码从上到下执行<br>2、作为一个类<br>具有原型链模式  类和实例的概念<br>3、作为一个对象<br>当做一个对象给他添加一个属性</p>
<blockquote>
<p>所有的函数数据类型（普通函数 类（内置类  自定义））都是Function的一个实例<br>每一个函数都可以使用Function的prototype上存储的属性和方法<br>Function的prototype上比较常用的几种属性（call/apply/bind(有兼容性)<br>每一个函数通过自己的<strong>proto</strong>找到、Function上的call方法<br>call的作用：<br>1、让方法中的this当做一个函数执行**<br>2、将call的this中的this修改为call的第一个参数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">var obj=&#123;info:&apos;say&apos;&#125;;</div><div class="line">function fn()&#123;</div><div class="line">console.log(this)</div><div class="line">&#125;</div><div class="line">fn.call(obj)</div><div class="line">fn.call(obj)这里面fn是call的this，call方法让他执行也就是fn() 并且将fn中的this修改为call的第一个参数值obj   所以fn中的this被修改为obj</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">var obj=&#123;info:&apos;say&apos;&#125;;</div><div class="line">function fn(a,b)&#123;</div><div class="line">console.log(this)</div><div class="line">console.log(a,b)</div><div class="line">&#125;</div><div class="line">fn.call(obj,10,20)</div><div class="line">call语法</div><div class="line">函数.call([this].param1,param2....)第一参数作为call this中的this  其余后面一次是在给call的this传递的参数值</div><div class="line"></div><div class="line"></div><div class="line">1、&apos;use strict&apos;</div><div class="line">严格模式：</div><div class="line">让javaScript 在更加严格的方式下运行 ，如果call中第一个参数不传或者传的是null/undefined  方法中的this都是undefined  其余call中第一个参数是啥就是啥；</div><div class="line">2、非严格模式下：</div><div class="line">如果call中第一个参数不传或者传的是null/undefined 方法中this都是window 其余的call中第一个参数是啥就是啥</div></pre></td></tr></table></figure></p>
</blockquote>
<p>###call 改变方法中的this关键字<br>call的作用：<br>改变call “.”  前面方法中的this  并让前面的方法执行</p>
<p>###apply  修改方法中的this关键字<br>作用：<br>将apply ‘.’ 前面的this修改call中的第一个参数值<br>并让apply ‘.’  前面的this执行<br><strong>例如：fn.apply(arr2)   首先fn是apply的this   将fn中的this改为arr2  并让fn执行</strong></p>
<p>###bind (ie6~8)<br>预处理：事先将fn中的this修改为arr1  但并不会让fn执行，而是将改造后的fn当做值返回<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">var arr1=[1,2,3]</div><div class="line">var arr2=[3,4,5]</div><div class="line">function fn(a,b)&#123;</div><div class="line">  console.log(this)</div><div class="line">  console.log(a,b)</div><div class="line">&#125;</div><div class="line">fn.call(arr1)</div><div class="line">var fe=fn.bind(arr1) fe接收的是this被改造后的fn</div><div class="line">fe()  改造后的fn执行</div></pre></td></tr></table></figure></p>
<p>###call和apply的区别<br>首先， call和apply都是改变方法中this关键字<br>不同：<br>call传参的时候是从第二个参数开始一个一个的传递<br>apply 把需要传递的参数值  放在一个数组里，也相当于一个一个将参数传递进去</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">function fn1()&#123;console.log(&apos;f1&apos;)&#125;</div><div class="line">function fn2()&#123;console.log(&apos;f2&apos;)&#125;</div><div class="line">fn1.call(fn2); 让fn执行里面this修改为fn2</div><div class="line">fn1.call.call.call.call();每一个函数都可以使用Function.prototype上的call方法  因为call也是要给函数  所以就可以fn.call.call.call.call;</div></pre></td></tr></table></figure>
<p>##取出一个数组中的最大值 最小值</p>
<blockquote>
<p>var  ary=[1,2,3,4,5,6]<br>var max=Math.max.apply(null,[1,2,3,4,5,6])<br>var min=Math.min.apply(null,[1,2,3,4,5,6])<br>原理：利用apply传递参数的时候，是把需要传递的参数放在数组里，其实也是相当于一次性分别把数组中的每一个参数取出来  当做数组传递到我们方法中</p>
</blockquote>
<p>##取平均分<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"> function average()&#123;</div><div class="line">**  //    var ary=[];</div><div class="line">//      for(var //i=0;i&lt;arguments.length;i++)&#123;</div><div class="line">//           ary.push(arguments[i]);</div><div class="line">//       &#125;**</div><div class="line">        var ary=[].slice.call(arguments,0);</div><div class="line">        ary.sort(function(a,b)&#123;return a-b&#125;);</div><div class="line">        ary.length--;</div><div class="line">        ary.shift();</div><div class="line">        var sum=eval(ary.join(&apos;+&apos;));</div><div class="line">        var num=(sum/ary.length).toFixed(3);</div><div class="line">        return num;</div><div class="line">    &#125;</div><div class="line">    console.log(average(3,4,5,6,7,8,9,67,45,32));</div></pre></td></tr></table></figure></p>
<p>###js中捕获异常</p>
<p>  /<em>try catch finally<br>    如果try里面报错就会执行catch里面的代码<br>    finally不管报不报错  都会执行
    </em>/<br>  try{<br>      console.log(num);<br>  }catch(e){<br>      console.log(e,message);<br>//      throw new Error(e,message);<br>  }console.log(52);</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">1题</div><div class="line"> var num = 0;</div><div class="line">    function Fn(num) &#123;</div><div class="line">        arguments[0] = 100;</div><div class="line">        this.num = 200;</div><div class="line">        console.log(num);</div><div class="line">        console.log(this.num);</div><div class="line">        return num;</div><div class="line">    &#125;</div><div class="line">    Fn.num = 400;</div><div class="line">    Fn.prototype.num = 300;</div><div class="line">    Fn.prototype.getNum = function () &#123;</div><div class="line">        console.log(this.num);</div><div class="line">    &#125;;</div><div class="line">    var f = new Fn(num);//</div><div class="line">    console.log(f.num);//</div><div class="line">    f.getNum();//</div><div class="line">    Fn.prototype.getNum();//</div><div class="line">    console.log(num);//</div><div class="line">    var n = Fn(num);//</div><div class="line">    console.log(n);//</div><div class="line">    console.log(num);//</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">2题</div><div class="line"> function Fn() &#123;</div><div class="line">        this.num=200;</div><div class="line">        num=300;</div><div class="line">        this.say=function () &#123;</div><div class="line">            this.num=15;</div><div class="line">            console.log(this.num);</div><div class="line">            console.log(Fn.num);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    var f1=new Fn;</div><div class="line">    Fn.prototype.num=100;</div><div class="line">    num=400;</div><div class="line">    Fn.num=111;</div><div class="line">    f1.say();</div><div class="line">    console.log(num);</div><div class="line">    console.log(f1.num);</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">3题</div><div class="line">function Foo() &#123;</div><div class="line">getName = function () &#123; alert (1); &#125;;</div><div class="line">return this;</div><div class="line">&#125;</div><div class="line">Foo.getName = function () &#123; alert (2);&#125;;</div><div class="line">Foo.prototype.getName = function () &#123; alert (3);&#125;;</div><div class="line">var getName = function () &#123; alert (4);&#125;;</div><div class="line">function getName() &#123; alert (5);&#125;</div><div class="line">//请写出以下输出结果：</div><div class="line">Foo.getName();</div><div class="line">getName();</div><div class="line">Foo().getName();</div><div class="line">getName();</div><div class="line">new Foo.getName();</div><div class="line">new Foo().getName();</div><div class="line">new new Foo().getName();</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">4题</div><div class="line"> function text() &#123;</div><div class="line">    //        var n=666;</div><div class="line">    //        function add() &#123;</div><div class="line">    //            n++;</div><div class="line">    //            console.log(n);</div><div class="line">    //        &#125;</div><div class="line">    //        return &#123;n:n,add:add&#125;</div><div class="line">    //    &#125;</div><div class="line">    //    var r1 =text();</div><div class="line">    //    var r2=text();</div><div class="line">    //    r1.add();</div><div class="line">    //    r1.add();</div><div class="line">    //    console.log(r1.n);</div><div class="line">    //    r2.add();</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">5题</div><div class="line"> var num=1;</div><div class="line">    var obj=&#123;num:2&#125;;</div><div class="line">    obj.fn=(function(num)&#123;</div><div class="line">        this.num=num*2;</div><div class="line">        num++;</div><div class="line">        return function(n)&#123;</div><div class="line">            this.num+=n;</div><div class="line">            num++;</div><div class="line">            console.log(num);</div><div class="line">        &#125;</div><div class="line">    &#125;)(obj.num);</div><div class="line">    var fn=obj.fn;</div><div class="line">    fn(10); obj.fn(20);</div><div class="line">    console.log(num,obj.num);</div></pre></td></tr></table></figure>
      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">分享</a>
        </div>
        
        
        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-06-28T10:05:42.334Z"><a href="/2017/06/28/6、重构对象模型/">2017-06-28</a></time>
      
      
  
    <h1 class="title"><a href="/2017/06/28/6、重构对象模型/">重构对象模型</a></h1>
  

    </header>
    <div class="entry">
      
        <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">function Fn()&#123;</div><div class="line">   </div><div class="line">&#125;</div><div class="line">var f1=new Fn</div><div class="line">//**每个类天生自带的属性prototype，浏览器为它开辟了一个堆内存  里面有一个天生自带的属性constructor这个属性**</div><div class="line"></div><div class="line">Fn.prototype=&#123;</div><div class="line">y:10</div><div class="line">&#125;</div><div class="line">console.log(Fn.prototype)</div><div class="line">//重构原型对象：自己开辟的堆内存 来存储公有的属性和方法  将浏览器天生为Fn.prototype开辟的堆内存替换掉</div><div class="line"></div><div class="line"></div><div class="line">//f1.constructor  由于我们为Fn.prototype新开辟了一个堆内存，所以最终通过原型链查找，找到的是Object.prototype上的constructor===&gt;Object</div><div class="line"></div><div class="line"></div><div class="line">//只有浏览器天生为Fn.prototype开辟的堆内存才有constructor这个属性  我们自己开辟的堆内存没有constructor 这个属性</div><div class="line"></div><div class="line">//为了和原来的一样 就自己手动在 自己为Fn.prototype 开辟的堆内存里添加constructor 指向Fn</div></pre></td></tr></table></figure>
<p>###批量添加公有属性<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Fn.prototype=&#123;</div><div class="line">   constructor:Fn</div><div class="line">   x:10</div><div class="line">   y:10</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">//重构内置类原型对象的时候，被浏览器屏蔽掉了</div><div class="line">如果我们手动为内置类原型开辟一个堆内存  就会将 内置类修改</div><div class="line">将浏览器天生给开辟的原型对象替换掉，导致内置类原有属性和方法都被替换掉了</div><div class="line">Array.prototype=&#123;</div><div class="line">   mySlice:function()&#123;</div><div class="line">   &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">//在给内置类原型上添加属性和方法的时候， 需要一个一个添加</div><div class="line">如果内置类原型上有的属性，我们添加的和原有的名字一样，就会被我们添加后的覆盖掉</div><div class="line">当在内置类原型上添加属性的时候 注意命名</div><div class="line"></div><div class="line"></div><div class="line">Array.prototype. mySlice=function()&#123;</div><div class="line"></div><div class="line">   &#125;</div></pre></td></tr></table></figure>
<p>##function</p>
<blockquote>
<p>所有的对象数据类型（） 都是Object的一个实例<br>var arr1=[ ];<br>var arr2=[1,2 ];<br>所有函数数据类型（普通函数、类（自定义类  内置）），都是Function这个类的实例<br>所有实例都是对象数据类型的  函数也是对象数据类型的<br>因为函数也是对象数据类型的 我们的Function(内置类)他也是函数数据类型 所以他也是对象数据类型的 每一个对象数据类型都有一个天生自带的属性<strong>proto</strong><br>Function是一个内置类 类都是函数数据类型  所有的函数数据类型  都是Function这个内置类的实例  所以Function作为一个类  一个对象数据类型 它的<strong>proto</strong>指向所属类的原型Function的prototype 也就是Function自己的prototype<br>Object是一个基类  JS中最顶层的类，类都是函数数据类型  函数也是个对象数据类型  那么Object也有一个天生自带的属性<strong>proto</strong>  因为Object也是函数数据类型，他的<strong>proto</strong>指向Function的prototype</p>
</blockquote>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">分享</a>
        </div>
        
        
        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-06-28T10:05:42.282Z"><a href="/2017/06/28/5.原型模式/">2017-06-28</a></time>
      
      
  
    <h1 class="title"><a href="/2017/06/28/5.原型模式/">原型模式</a></h1>
  

    </header>
    <div class="entry">
      
        <p>##javaScript:    JS就是一门轻量级的脚本“编程”语言</p>
<p>##1、编程语言</p>
<blockquote>
<p>C   、C++ 、 PHP、 .NET(dot  net)(“刀奈特”)、  c#（c沙浦）、ASP、 ASP.NET 、 Python  、Ruby 、 Go 、 VB、 JavaScript..<br>所有编程语言都是面向对象开发的<br>C是面向过程的</p>
<p>##2、面向对象</p>
<ul>
<li>对象   万物皆对象  他是一个泛指</li>
<li>类      对象的细分</li>
<li>实例   某一个类别中具体的事物 </li>
</ul>
</blockquote>
<p>生活中的例子<br>我们生活在自然界中，在自然界中的一切事物都是我们要研究的对象（统称为对象） 而我们研究自然界的过程就是面向对象的思想 自然界中把具有相同特点的进行分类（大类中包含小类）当我们需要研究的时候，只需要找出一个类别中的具体事物来研究即可，这个事物就是类的实例</p>
<p>###在JS中：我们研究JS中的一切事物都是对象  js也是按照对象、类 、实例三层体系架构实现的  js把所有的东西按照特征分成了很多的大类和小类  我们要研究其中的某一类，只需要研究里面的一个实例即可</p>
<p>Math.PI   3.141592653…<br>Math.pow（n,m）获取n 的m次幂<br>Math.sqrt（n)  给n开平方  </p>
<p>###研究数组<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var ary=[12,34]-----------字面量创建</div><div class="line"></div><div class="line">var ary2=new  Array(12);----实例创建</div><div class="line">1、new Array（12）括号中的数字是设定数组的长度，而不是给增加值</div><div class="line">2、new Array（&apos;12&apos;） 这样才是给数组第一项设定为12 ，数组有一项</div><div class="line">3、new Array（12，23） 这样数组有两项，分别是12 和23</div></pre></td></tr></table></figure></p>
<p>##学习面向对象<br>1、学会自己创建类和实例<br>2、掌握原型机制（掌握实例和类的关系）<br>3、掌握类的继承、封装、多态<br>4、基于面向对象思想封装组件插件等</p>
<p>##创建的类第一个字母最好是大写<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">function Person()&#123;</div><div class="line">// 看不见  **var obj=&#123;&#125;**  浏览器会默认去做</div><div class="line">// 看不见  **return obj**  浏览器会默认去做</div><div class="line">&#125;</div><div class="line"></div><div class="line">1、var a=Person ();此时的person仅仅是一个普通的函数   走的是函数那一套流程：</div><div class="line">创建私有作用域==》赋值/预解释==》依次执行代码（私有变量还是全局变量）--》作用域）==》作用域是否销毁   </div><div class="line">         ----- “生命周期”</div><div class="line">console.log(a) ---&gt;undefined  因为函数执行的时候没有返回值</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">2、var p=new Person(); 这样执行 person就是一个类了  他的执行步骤：</div><div class="line">   1）也和普通函数执行一样，创建一个私有作用域。进行形参赋值和预解释</div><div class="line">   2）new 这样执行  在预解释完成后，浏览器会默认的在私有作用域创建一个对象，而函数中的this就指向这个对象</div><div class="line">   3）然后再和普通函数一样，代码从上到下执行（作用域链）</div><div class="line">   4）new 这样执行，在代码执行完成后，会默认的把第二步中我们创建的这个对象返回</div><div class="line">   ==&gt;这种执行方式叫做构造函数模式：new Person（）；Person（）就是一个类（自定义类） 而返回的结果p就是当前类的一个实例</div><div class="line">   </div><div class="line">   console.log(p);</div></pre></td></tr></table></figure></p>
<p>###区分this的情况<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">普通函数执行，方法中的this取决于函数执行的时候前面是否有“.”  有的话点前面是谁 this 就指向谁 ，没有的会话this就指向window</div><div class="line"></div><div class="line">构造函数模式下，方法中的this指向的是当前类的一个实例</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">function Student()&#123;</div><div class="line"> this.name=name;</div><div class="line"> this.age=age;</div><div class="line">&#125;</div><div class="line"></div><div class="line">var str1=new Student();</div><div class="line">var str2=new Student;在构造函数模式执行的时候，如果不需要传递参数，后面的小括号可加可不加， 没什么区别  </div><div class="line"></div><div class="line">通过构造函数创建出来的实例都是相互独立的个体，互相不影响，而在构造函数体中this.xxx=xxx 都相当于再给当前的实例增加属于自己的私有属性</div></pre></td></tr></table></figure>
<p>####实例之间是相互独立的  this.xxx=xxx 其实是给实例增加的私有的属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">function Fn(name)&#123;</div><div class="line">     var school=&apos;珠峰&apos; //school仅仅是私有作用域中的一个私有变量，在函数体中只有this.xxx=xxx才是给实例设置私有的属性，而私有变量和实例没有必然的联系</div><div class="line">     this.name=name;</div><div class="line">     this.say=function()&#123;</div><div class="line">        console.log(&apos;my name is &apos;+name)</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">var f1=new Fn(&apos;jia&apos;)</div><div class="line">console.log(f1)  ----实例：</div><div class="line">如果我们手动返回的结果是一个基本数据类型的值，对最后的实例没有任何影响</div><div class="line">如果我们手动返回的结果是一个引用数据类型的值，会把默认返回的实例给覆盖，此时的f1就不是类的实例了</div><div class="line">var f2=new Fn(&apos;han&apos;)</div></pre></td></tr></table></figure>
<p>####in  不管当前的属性是私有的还是公有的，只要有返回的结果就是true   </p>
<p>####hasOwnProperty检测属性是否是当前这个对象的私有属性   只有私有的属性才会返回true ，即使你在公有里面有这个属性，但是如果私有中没有，返回的结果也是false</p>
<p>###临时构建一个小方法：  检测一个对象是否拥有某个公有的属性<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">function hasPublicPorperty(obj,attr)&#123;</div><div class="line">  return (attr in obj)&amp;&amp;! hasOwnPorperty(attr)</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>##单例模式的误区<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var sum=&#123;&#125;;</div><div class="line">var sum=(function()&#123;</div><div class="line">  return &#123; &#125;;</div><div class="line">&#125;)();</div></pre></td></tr></table></figure></p>
<p>##构造函数模式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">function person=&#123;</div><div class="line">&#125;</div><div class="line">var p=new Person;</div></pre></td></tr></table></figure></p>
<h3 id="外界面试官认为-只有形成一个不销毁的私有作用域才叫闭包"><a href="#外界面试官认为-只有形成一个不销毁的私有作用域才叫闭包" class="headerlink" title="外界面试官认为 只有形成一个不销毁的私有作用域才叫闭包"></a>外界面试官认为 只有形成一个不销毁的私有作用域才叫闭包</h3><p>#原型模式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">function Person(name)&#123;</div><div class="line">    this.name=name;</div><div class="line">    this.say=function()&#123;</div><div class="line">    console.log(&apos;my name is&apos;+this.name)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">var p1=new Person(&apos;网&apos;)</div></pre></td></tr></table></figure></p>
<p>1、每一个函数数据类型（普通函数、类（内置类  自定义类））都天生自带一个属性 —prototype   这个属性的属性值是一个对象数据类型的的结果<br>2、prototype 对应的对象中，有一个天生自带的属性，constructor（构造函数），这个属性的属性值指向当前函数本身<br>3、每一个对象数据类型（普通对象、实例、prototype、函数也是对象）都有一个天生自带的属性: <strong>proto</strong>   这个属性指向所属类的原形（prototype） </p>
<blockquote>
<p>对象数据类型的基类（最底层Object),它的原型上没有<strong>proto</strong>这个属性</p>
<p>类的原型（prototype)上存储的属性和方法都是实例的公有的属性方法</p>
<p>##原型链<br>先找自己私有的属性，如果私有的属性中没有drink ，则继续到所属类的原型上查找。。。一直找到Object.prototype为止</p>
</blockquote>
<p>p.<strong>proto</strong>.drink( );  跳过了私有的查找，直接找到原型上的公有属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">p1.hasOwnProperty(); ---&gt;this指向p1;</div><div class="line">p1.__proto__.hasOwnProperty();---&gt; tihs指向p1.__proto__</div><div class="line">p1.__proto__.__proto__.hasOwnProperty(); this指向基类的原型上的方法</div><div class="line"></div><div class="line">通过以上三种方法，我们都可以把hasOwnProperty方法执行，但是有所区别：方法在执行的时候，方法中的this是不一样的：在万恶的IE浏览器下，为了保护原型，屏蔽了我们使用__proto__属性</div></pre></td></tr></table></figure>
<p>###构造原型模式</p>
<p>在内置类的原型上扩展一个方法  如果这个方法之前人家有，我们这样操作会把人家覆盖掉，这样非常不好  所以我们在取方法名的时候 最好加一个特殊的前缀<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Object.prototype.myHasPublicProperty=function myHasPublicProperty()&#123;      </div><div class="line">   var attr=arguments[0];</div><div class="line">   //this  需要处理的那个实例；</div><div class="line">   return （attr in this）&amp;&amp;！this.hasOwnProperty(attr);</div><div class="line">&#125;</div><div class="line">console.log(f.myHasPublicProperty(&apos;m&apos;));</div></pre></td></tr></table></figure></p>
<p>思考题：<br>数组中存在一个方法：slice ，在一个数组中进行查找，找到我们需要的部分，最后返回一个新数组，原数组不变<br>ary.slice(n,m)<br>如果n或者m两者都是负数<br>如果是小数<br>如果是非有效数字<br>如果传递的n&gt;m呢<br>如果传递的n或者m或者两者都大于最大长度</p>
<p>Array.prototype.mySlice=function mySlice(){</p>
<p>实现你的代码，完成和内置slice一模一样的功能，要求尽可能的考虑更多情况  不能使用数组中内置的方法<br>}</p>
<p>###基于原型进阶-链式写法</p>
<p> 链式写法：需要保证每一次执行方法返回的结果依然是当前类的一个实例，这样就可以调取原型上的方法了。。<br>1、 ary.sort(function(a,b){<br> return   a-b;<br>}).slice().reverse().push()</p>
<p>2、Array.prototype.mySlice=function mySlice(){<br>   return  this ;<br>}<br>ary.mySlice().push()</p>
<p>3、思考题  (5).plus(3).minus(2) =&gt;6   在Number的原型上扩展方法：plus和minus不仅可以实现加减操作而且还可以实现链接写法  </p>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">分享</a>
        </div>
        
        
        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>






<nav id="pagination">
  
  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/5/">&laquo; Anterior</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/7/">Siguiente &raquo;</a>
  </nav>

</nav>
</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Buscar">
    <input type="hidden" name="q" value="site:yoursite.com">
  </form>
</div>

  

  
<div class="widget tag">
  <h3 class="title">Entradas Recientes</h3>
  <ul class="entry">
    
      <li>
        <a href="/2017/06/28/移动端(2)/">移动端(2)</a>
      </li>
    
      <li>
        <a href="/2017/06/28/移动端(1)/">移动端(1)</a>
      </li>
    
      <li>
        <a href="/2017/06/28/JavaScript基础知识(5)/">JavaScript基础知识(5)</a>
      </li>
    
      <li>
        <a href="/2017/06/28/JavaScript基础知识(4)/">JavaScript基础知识(4)</a>
      </li>
    
      <li>
        <a href="/2017/06/28/JavaScript基础知识(3)/"></a>
      </li>
    
  </ul>
</div>


  

  
</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  <p>
  
  &copy; 2017 John Doe
  
  All rights reserved.</p>
  <p>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></p>
</div>
<div class="clearfix"></div>

<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script></footer>
  <script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


<div id='bg'></div>
</body>
</html>